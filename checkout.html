<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>checkout</title>
    <link rel="stylesheet" type="text/css" href="./CSS/checkout.css" />
  </head>
  <body>
    <div class="navbar">
      <h2 id="logo">TRADO</h2>
      <h2>CHECKOUT</h2>
      <div><img src="./images/Digicart.PNG" alt="error" /></div>
    </div>
    <div id="container">
      <div class="left">
        <div class="L1">
          <h2>DELIVERY COUNTRY:</h2>
          <select name="" id="country">
            <option value="India">India</option>
            <option value="Germany">Germany</option>
            <option value="Australia">Australia</option>
            <option value="Brazil">Brazil</option>
            <option value="Netherlands">Netherlands</option>
            <option value="Maldives">Maldives</option>
          </select>
        </div>
        <div class="L2">
          <select name="" id="promo">
            <option value="">PROMO / STUDENT CODE OR VOUCHERS</option>
          </select>
        </div>
        <div class="L3">
          <h2>EMAIL ADDRESS</h2>
          <input placeholder="Enter your e-mail here" type="email" />
        </div>
        <div class="L4">
          <h2>DELIVERY ADDRESS</h2>
          <h3>ADD ADDRESS</h3>
          <p>FIRST NAME :</p>
          <input type="text" />
          <p>LAST NAME :</p>
          <input type="text" />
          <p>MOBILE: <span>(For delivery updates:)</span></p>
          <input type="text" />
          <p>ADDRESS :</p>
          <input type="text" />
          <input type="text" placeholder="Optional" />
          <p>CITY :</p>
          <input type="text" />
          <p>COUNTRY :</p>
          <input type="text" placeholder="Optional" />
          <p>POSTCODE :</p>
          <input id="post" type="text" />
          <p>Country</p>
          <p id="countryShow"></p>
          <button id="delivery">DELIVER TO THIS ADDRESS</button>
        </div>
        <div class="L5">
          <h2>DELIVERY OPTIONS</h2>
          <div class="L5A">
            <h2>$7.00</h2>
            <div>
              <img src="./images/standard.PNG" alt="error" />
            </div>
            <input type="radio" />
          </div>
          <div id="L5A" class="L5A">
            <h2>$22.50</h2>
            <div>
              <img src="./images/expressDelivery.PNG" alt="error" />
            </div>
            <input type="radio" />
          </div>
          <div class="L6">
            <h2>PAYMENT TYPE</h2>
            <button id="debit">
              <img
                id="L6Img"
                src="./images/addDebitCart.PNG"
                alt="error"
              />CREDIT/DEBIT CARD
            </button>
            <p>OR</p>
            <button id="debit">
              <img id="L6Img2" src="./images/paypal.PNG" alt="error" />PAYPAL
            </button>
          </div>
          <div class="L7">
            <p>WE ACCEPT:</p>
            <img id="acceptImg" src="./images/weAccept.PNG" alt="error" />
          </div>
        </div>
        <div>
          <button id="buy">BUY NOW</button>
        </div>
        <img id="policy" src="./images/policy.PNG" alt="error" />
      </div>
      <div class="right">
        <div id="R1"></div>
        <div id="R2"></div>
        <div id="R3">
          <div id="R31">
            <p>Subtotal</p>
            <p id="Subtotal"></p>
          </div>
          <div id="R31">
            <p>Delivery</p>
            <p id="Delivery"></p>
          </div>
          <div id="R31">
            <h3>TOTAL TO PAY</h3>
            <h3 id="totalToPay"></h3>
          </div>
        </div>
        <img src="./images/indiaDel.PNG" alt="error" />
      </div>
    </div>
    <div id="footer">
      <p>TRADO Help</p>
    </div>
  </body>
  <script>
    let country = document.getElementById("country");
    let countryShow = document.getElementById("countryShow");
    countryShow.innerText = country.value;
    let delivery = document.getElementById("delivery");

    delivery.addEventListener("click", function () {
      alert("Details Saved successfully !!");
    });
    let debit = document.getElementById("debit");
    debit.addEventListener("click", function () {
      debit.style.backgroundColor = "#2d2d2d";
      debit.style.color = "white";
    });
    let buy = document.getElementById("buy");
    buy.addEventListener("click", function () {
      alert("Purchase Successfull!!");
    });

    let logo = document.getElementById("logo");
    logo.addEventListener("click", function () {
      window.location.href = "home.html";
    });

    let R2 = document.getElementById("R2");

    let LSData = localStorage.getItem("cart");
    if (LSData === null) {
      LSData = [];
    } else {
      LSData = JSON.parse(LSData);
    }
    display(LSData);

    // console.log(LSData)

    function display(data) {
      R2.innerHTML = "";

      data.forEach((el) => {
        console.log(el);
        let cart = document.createElement("div");
        cart.className = "cart";
        let textDiv = document.createElement("div");
        textDiv.className = "textDiv ";
        let img = document.createElement("img");
        let brand = document.createElement("p");
        brand.className = "brand";
        let price = document.createElement("p");
        let quantity = document.createElement("p");

        img.src = el.img;
        price.innerText = `$${el.price}`;
        brand.innerText = el.brand;
        quantity.innerText = `Qty:${el.quantity}`;

        textDiv.append(price, brand, quantity);
        cart.append(img, textDiv);
        R2.append(cart);
      });

      let R1 = document.getElementById("R1");
      let totalItems = document.createElement("h1");
      totalItems.className = "totalItems";
      let Items = document.createElement("h1");

      totalItems.innerText = `${LSData.length}`;
      Items.innerText = "ITEMS";
      R1.append(totalItems, Items);

      let cartTotal = document.getElementById("Subtotal");
      let sum = 0;
      for (let i = 0; i < LSData.length; i++) {
        sum += LSData[i].quantity * LSData[i].price;
      }
      cartTotal.innerText = `$${sum}`;
      let Delivery = document.getElementById("Delivery");
      Delivery.innerText = `$${7.0}`;

      let totalToPay = document.getElementById("totalToPay");
      totalToPay.innerText = `$${sum + 7.0}`;
      //   payment.append(cartTotal);
    }
  </script>
</html>
