<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Signin page</title>
    <link rel="stylesheet" type="text/css" href="./CSS/signin.css">
  </head>
  <body>
    <div id="container">
      <div>
        <img src="./images/TRADO.png" alt="error" />
      </div>
      <div id="register">
        <div id="heading">
          <button id="join">JOIN HERE</button>
        </div>
        <div>
          <form id="joinForm" action="">
            <input id="name" type="text" placeholder="Enter your name here" />
            <select name="Gender" id="gender">
              <option value="">select a gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <input
                id="email"
                type="email"
                placeholder="Enter E-mail Address"
              />
              <input
                id="password"
                type="password"
                placeholder=" Enter your password"
              />
              <input id="SIGNUP" type="submit" value="SIGNUP" />
            </select>
          </form>
        </div>
      </div>
      <div id="login">
        <div id="heading">
          <button id="signin">SIGN IN HERE</button>
        </div>
        <div>
          <form id="Lform" action="">
            <input
              id="Lemail"
              type="email"
              placeholder="Enter E-mail Address"
            />
            <input
              id="Lpassword"
              type="password"
              placeholder=" Enter your password"
            />
            <input id="SIGNIN" type="submit" value="SIGNIN" />
          </form>
        </div>
      </div>
      <div id="link">
        <a href="https://www.asos.com/privacy-policy/">Privacy Policy</a>
        <a href="https://www.asos.com/terms-and-conditions/"
          >Terms and conditions</a
        >
      </div>
    </div>
  </body>
  <script>
    let name = document.getElementById("name");
    let gender = document.getElementById("gender");
    let email = document.getElementById("email");
    let password = document.getElementById("password");
    let form = document.querySelector("form");
    let Lform = document.getElementById("Lform");
    let Lemail = document.getElementById("Lemail");
    let Lpassword = document.getElementById("Lpassword");

    let LSdata = localStorage.getItem("user-details");
    if (LSdata === null) {
      LSdata = [];
    } else {
      LSdata = JSON.parse(LSdata);
    }

    form.addEventListener("submit", function (e) {
      // e.preventDefault();
      if (
        name.value === "" ||
        email.value === "" ||
        password.value === "" ||
        gender.value === ""
      ) {
        alert("Values can not be empty!!");
      } else {
        let obj = {
          name: name.value,
          gender: gender.value,
          email: email.value,
          password: password.value,
        };
        LSdata.push(obj);
        localStorage.setItem("user-details", JSON.stringify(LSdata));
        alert("Registeration Successful!!");
      }
    });

    Lform.addEventListener("submit", function (e) {
      e.preventDefault();
      if (check(LSdata)) {
        alert("LOGIN SUCCESSFULL!!");
        window.location.href = "products.html";
      } else {
        alert("Check Username or Password !!");
      }

      function check(LSdata) {
        for (let i = 0; i < LSdata.length; i++) {
          // console.log(name.value,LSdata[i].name,'d')
          if (
            Lemail.value === LSdata[i].email &&
            Lpassword.value === LSdata[i].password
          ) {
            return true;
          }
        }
        return false;
      }
    });
  </script>
</html>